<div th:fragment="header">
    <!-- Desktop Navbar -->
    <nav class="navbar">
        <div class="logo" style="cursor:pointer;" onclick="window.location.href='/'">ArtSea</div>
        <button class="hamburger" id="hamburger" aria-label="Menu">&#9776;</button>
        <div class="navbar-center">
            <ul id="navbar-menu">
                <li class="nav-item"><a href="#">AUCTIONS</a>
                    <div class="dropdown">
                        <a href="/live-auctions">Live Auction</a>
                        <a href="/past-auctions">Auction Results</a>
                        <a href="/upcoming-auctions">Future Auction</a>
                        <a href="/buy">Buy</a>
                        <a href="/sell">Sell</a>
                        <a href="/faqs">FAQs</a>
                    </div>
                </li>
                <li class="nav-item"><a href="#">SERVICES</a>
                    <div class="dropdown">
                        <a href="/private-services">Private Services</a>
                        <a href="/storage-services">Storage Services</a>
                        <a href="/collection-services">Collection Services</a>
                        <a href="/post-sale-services">Post Sale Services</a>
                    </div>
                </li>
                <li class="nav-item"><a href="#">ABOUT US</a>
                    <div class="dropdown">
                        <a href="/who-we-are">Who We Are</a>
                        <a href="/reach-us">Reach Us</a>
                    </div>
                </li>

                <!-- Desktop: Show LOGIN if not logged in -->
                <li class="nav-item" th:if="${session.user == null or session.user.role.name() != 'BUYER'}">
                <a href="#">LOGIN</a>
                    <div class="dropdown">
                        <a href="/login">Login</a>
                        <a href="/signup">Signup</a>
                    </div>
                </li>

                <!-- Desktop: Show PROFILE if logged in -->
                <li class="nav-item" th:if="${session.user != null and session.user.role.name() == 'BUYER'}">
                <a href="#">PROFILE</a>
                    <div class="dropdown">
                        <a href="/my-profile">My Profile</a>
<!--                        <a href="/my-auctions">My Auctions</a>-->
                        <a href="/logout">Logout</a>
                    </div>
                </li>
            </ul>
        </div>
        <div class="search-bar">
            <form th:action="@{/search}" method="get">
                <input type="text" name="query" placeholder="Search Artwork..." required>
                <button type="submit">üîç</button>
            </form>
        </div>
    </nav>

    <!-- Mobile Overlay Menu -->
    <div class="overlay-menu" id="overlay-menu">
        <div class="overlay-header">
            <div class="overlay-logo">ArtSea</div>
            <div class="overlay-dragbar"></div>
            <button class="overlay-close" id="overlay-close" aria-label="Close">&times;</button>
        </div>
        <div class="overlay-links">
            <div class="overlay-link" data-submenu="auctions">
                AUCTIONS <span class="plus" style="padding-right:8px;">+</span>
            </div>
            <div class="overlay-sublinks" id="auctions">
                <a href="/auctions" class="overlay-sublink">Auction</a>
                <a href="/auctions-result" class="overlay-sublink">Auction Results</a>
                <a href="/upcoming-auctions" class="overlay-sublink">Future Auction</a>
                <a href="/buy" class="overlay-sublink">Buy</a>
                <a href="/sell" class="overlay-sublink">Sell</a>
                <a href="/faq" class="overlay-sublink">FAQs</a>
            </div>

            <div class="overlay-link" data-submenu="services">
                SERVICES <span class="plus" style="padding-right:8px;">+</span>
            </div>
            <div class="overlay-sublinks" id="services">
                <a href="/private-services" class="overlay-sublink">Private Services</a>
                <a href="/storage-services" class="overlay-sublink">Storage Services</a>
                <a href="/collection-services" class="overlay-sublink">Collection Services</a>
                <a href="/post-sale-services" class="overlay-sublink">Post Sale Services</a>
            </div>

            <div class="overlay-link" data-submenu="about">
                ABOUT US <span class="plus" style="padding-right:8px;">+</span>
            </div>
            <div class="overlay-sublinks" id="about">
                <a href="/who-we-are" class="overlay-sublink">Who We Are</a>
                <a href="/reach-us" class="overlay-sublink">Reach Us</a>
            </div>

            <!-- Mobile: Profile if logged in -->
            <div th:if="${session.user != null and session.user.role.name() == 'BUYER'}" class="overlay-link" data-submenu="profile">

            PROFILE <span class="plus" style="padding-right:8px;">+</span>
            </div>
            <div th:if="${session.user != null and session.user.role.name() == 'BUYER'}" class="overlay-sublinks" id="profile">
            <a href="/my-profile" class="overlay-sublink">My Profile</a>
<!--                <a href="/my-auctions" class="overlay-sublink">My Auctions</a>-->
                <a href="/logout" class="overlay-sublink">Logout</a>
            </div>
        </div>

        <div style="flex:1 1 auto;"></div>

        <!-- Mobile: Login / Signup if not logged in -->
        <div class="overlay-actions" th:if="${session.user == null or session.user.role.name() != 'BUYER'}">
        <button class="overlay-btn" onclick="window.location.href='/login'">Login</button>
            <button class="overlay-btn" onclick="window.location.href='/signup'">Signup</button>
        </div>
    </div>
</div>