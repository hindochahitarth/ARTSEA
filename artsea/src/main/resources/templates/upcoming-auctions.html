<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>ArtSea - Upcoming Auctions</title>
</head>
<body>
<!--Navbar    -->
<div th:replace="header :: header"></div>
    <!-- Auction Results Content -->
    <div class="upcoming-auctions-container">
        <div class="upcoming-header">
            <h1 class="upcoming-title">Upcoming Auctions</h1>
            <div class="upcoming-tabs">
                <a href="/live-auctions" class="upcoming-tab" style="text-decoration:none;">LIVE AUCTIONS</a>
                <a href="/upcoming-auctions" class="upcoming-tab active" style="text-decoration:none;">UPCOMING AUCTIONS</a>
                <a href="/past-auctions" class="upcoming-tab" style="text-decoration:none;">PAST AUCTIONS</a>
            </div>
        </div>

        <!-- If no auctions -->
        <div th:if="${auctions == null or auctions.isEmpty()}">
            <p class="no-auctions-message">No live auctions available at this time.</p>
        </div>

<!--        <div class="past-auction-filter">-->
<!--            <select>-->
<!--                <option>Sort by: Most Recent</option>-->
<!--                <option>Sort by: Highest Sale</option>-->
<!--                <option>Sort by: Auction Name</option>-->
<!--            </select>-->
<!--        </div>-->

        <div class="upcoming-grid">
            <th:block th:each="auction : ${auctions}">
                <div class="upcoming-card">
                    <div class="upcoming-image-container">
                        <img th:src="@{${auction.imageUrl}}"
                             th:alt="${auction.auctionName}"
                             class="upcoming-image">
                    </div>
                    <h4 class="upcoming-name" th:text="${auction.auctionName}"></h4>
                    <p class="upcoming-date">
                        <span th:text="${#temporals.format(auction.startTime, 'dd MMM')}"></span>
                        -
                        <span th:text="${#temporals.format(auction.endTime, 'dd MMM, yyyy')}"></span>
                    </p>
                    <hr class="upcoming-divider">
<!--                    <div class="auction-total">Preview Opens Soon</div>-->
                    <button class="upcoming-view-results-btn"
                            th:onclick="|window.location.href='/upcoming-preview/${auction.auctionId}'|"
                            th:disabled="${T(java.time.LocalDateTime).now().isBefore(auction.applyEndTime)}"
                            th:text="${T(java.time.LocalDateTime).now().isAfter(auction.applyEndTime) ? 'View Preview' : 'Preview Opens Soon'}">
                        Preview Opens Soon
                    </button>
                </div>
            </th:block>
        </div>


    </div>

    <!--Footer    -->
    <div th:replace="footer :: footer"></div>
<script src="/home.js"></script>

    <script>
        // Tab switching functionality
        const tabs = document.querySelectorAll('.auction-tab');

        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                // Remove active class from all tabs
                tabs.forEach(t => t.classList.remove('active'));
                // Add active class to clicked tab
                tab.classList.add('active');

                // Here you would typically load different content based on the selected tab
                // For now, we'll just log which tab was clicked
                console.log(tab.textContent + ' clicked');
            });
        });

    </script>
</body>
</html>