<!DOCTYPE html>
<html xmlns:th="http://www.th.thymeleaf.org">
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/styles.css}">
    <title>ArtSea - Past Auction Results</title>
    <style>
        /* Base Styles */

    </style>
</head>

<body>
<!-- Navbar -->
<div th:replace="header :: header"></div>

<!-- Past Auction Results Content -->
<div class="past-auctions-container">
    <div class="past-auction-header">
        <h1 class="past-auction-title">Past Auctions</h1>
        <div class="past-auction-tabs">
            <a href="/live-auctions" class="past-auction-tab" style="text-decoration:none;">LIVE AUCTIONS</a>
            <a href="/upcoming-auctions" class="past-auction-tab" style="text-decoration:none;">UPCOMING AUCTIONS</a>
            <a href="/past-auctions" class="past-auction-tab active" style="text-decoration:none;">PAST AUCTIONS</a>
        </div>
    </div>

    <div th:if="${pastAuctions == null or pastAuctions.isEmpty()}">
        <p class="no-auctions-message">No past auctions available at this time.</p>
    </div>


    <!--    <div class="past-auction-filter">-->
<!--        <select>-->
<!--            <option>Sort by: Most Recent</option>-->
<!--            <option>Sort by: Highest Sale</option>-->
<!--            <option>Sort by: Auction Name</option>-->
<!--        </select>-->
<!--    </div>-->

    <div class="past-auction-grid" th:if="${pastAuctions != null and !pastAuctions.isEmpty()}">
        <!-- Loop through all past auctions -->
        <div class="past-auction-card" th:each="auction : ${pastAuctions}">
            <div class="past-auction-image-container">
                <img th:src="@{${auction.imageUrl}}" th:alt="${auction.auctionName}" class="past-auction-image">
            </div>

            <h4 class="past-auction-name" th:text="${auction.auctionName}">Auction Name</h4>

            <!-- Format start and end dates -->
            <p class="past-auction-date">
                <span th:text="${#temporals.format(auction.startTime, 'dd MMM yyyy')}"></span>
                -
                <span th:text="${#temporals.format(auction.endTime, 'dd MMM yyyy')}"></span>
            </p>

            <hr class="past-auction-divider">

            <!-- Display total sale from highest bids of artworks -->
            <div class="past-auction-total">
                Total Sale:
                <span class="past-auction-sale-amount"
                      th:text="${#numbers.formatDecimal(totalSales[auction.auctionId], 0, 'COMMA', 2, 'POINT')}">
                â‚¹ 0.00
            </span>
            </div>

            <!-- View Auction Result button -->
            <button class="view-past-results-btn"
                    th:onclick="'window.location.href=\'/past-auction/' + ${auction.auctionId} + '\''">
                View Auction Result
            </button>
        </div>
    </div>

</div>

<div th:replace="footer :: footer"></div>
<script src="/home.js"></script>

<script>
    // Tab switching functionality
    const tabs = document.querySelectorAll('.past-auction-tab');

    tabs.forEach(tab => {
        tab.addEventListener('click', () => {
            // Remove active class from all tabs
            tabs.forEach(t => t.classList.remove('active'));
            // Add active class to clicked tab
            tab.classList.add('active');

            // Here you would typically load different content based on the selected tab
            // For now, we'll just log which tab was clicked
            console.log(tab.textContent + ' clicked');
        });
    });

    // Mobile menu functionality from home.html would go here
    // ...
</script>
</body>
</html>